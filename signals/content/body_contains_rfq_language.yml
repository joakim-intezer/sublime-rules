name: "Body: Contains RFQ Language"
type: "query"
source: |
  1 of (
    (regex.icontains(body.current_thread.text, '(discuss.{0,15}purchas(e|ing))')),
    (
      regex.icontains(body.current_thread.text,
                      '(sign(ed?)|view).{0,10}(purchase order)|Request for a Quot(e|ation)'
      )
    ),
    (regex.icontains(body.current_thread.text, '(please|kindly).{0,30}quote')),
    (regex.icontains(body.current_thread.text, 'vendor(s?) questionnaire'))
  )
  or (
    regex.icontains(body.current_thread.text, "ARAMCO")
    and 2 of (
      regex.icontains(body.current_thread.text, "vendor"),
      regex.icontains(body.current_thread.text, "expression"),
      regex.icontains(body.current_thread.text, "\\bEOI\\b"),
      regex.icontains(body.current_thread.text, "Questionnaire"),
      regex.icontains(body.current_thread.text, "RFP"),
      regex.icontains(body.current_thread.text, "RFQ"),
    )
  )
